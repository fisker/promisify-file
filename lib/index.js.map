{"version":3,"file":"index.js","sources":["../src/utils/define-values.js","../src/utils/global-this.js","../src/utils/is-function.js","../src/utils/is-object.js","../src/supports.js","../src/utils/construct-file.js","../src/utils/async.js","../src/core/prototype/blob.js","../src/constants.js","../src/utils/curry.js","../src/utils/prepend-arguments.js","../src/utils/append-arguments.js","../src/utils/throw-dom-parser-error.js","../src/utils/text-to-document.js","../src/core/prototype/dom-parser.js","../node_modules/promisify-file-reader/lib/index.min.mjs","../src/core/prototype/file-reader.js","../src/core/prototype/file.js","../src/core/prototype/image-bitmap.js","../src/utils/get-rendering-context.js","../src/utils/draw-image.js","../src/utils/get-image-data.js","../src/core/prototype/image-data.js","../src/utils/is-undefined.js","../src/utils/promisify.js","../src/utils/on.js","../src/utils/wait-for-image.js","../src/utils/load-image.js","../src/core/prototype/image.js","../src/core/prototype/json.js","../src/core/prototype/typed-array.js","../src/core/prototype/url.js","../src/core/file.js","../src/utils/is-then-able.js","../src/utils/get-type.js","../src/utils/parse-xmlhttp-request-data.js","../src/utils/wait-for-xmlhttp-request.js","../src/utils/wait-for-file-reader.js","../src/utils/put-image-data.js","../src/utils/is-body.js","../src/utils/is-document.js","../src/utils/document-to-text.js","../src/utils/data-url-to-blob.js","../src/utils/canvas-to-blob.js","../src/utils/is-canvas.js","../src/utils/is-rendering-context.js","../src/utils/is-data-url.js","../src/utils/is-array-buffer.js","../src/utils/is-data-view.js","../src/core/from.js","../src/index.js"],"sourcesContent":["const {defineProperties} = Object\n\nfunction defineValues(\n  object,\n  values,\n  options = {\n    configurable: true,\n    writable: true,\n    enumerable: true,\n  }\n) {\n  const properties = {}\n  const keys = Object.keys(values)\n\n  for (const key of keys) {\n    properties[key] = {\n      value: values[key],\n      ...options,\n    }\n  }\n\n  return defineProperties(object, properties)\n}\n\nexport default defineValues\n","// eslint-disable-next-line no-new-func\nconst globalThis = new Function('return this')()\n\nconst URL = globalThis.URL || globalThis.webkitURL\nconst {\n  ArrayBuffer,\n  atob,\n  Blob,\n  createImageBitmap,\n  DataView,\n  DOMParser,\n  document,\n  fetch,\n  File,\n  Image,\n  OffscreenCanvas,\n  Promise,\n  Int8Array,\n  Uint8Array,\n  Uint8ClampedArray,\n  Int16Array,\n  Uint16Array,\n  Int32Array,\n  Uint32Array,\n  Float32Array,\n  Float64Array,\n  XMLSerializer,\n} = globalThis\n\nexport default globalThis\n\nexport {\n  ArrayBuffer,\n  atob,\n  Blob,\n  createImageBitmap,\n  DataView,\n  DOMParser,\n  document,\n  fetch,\n  File,\n  Image,\n  OffscreenCanvas,\n  Promise,\n  URL,\n  Int8Array,\n  Uint8Array,\n  Uint8ClampedArray,\n  Int16Array,\n  Uint16Array,\n  Int32Array,\n  Uint32Array,\n  Float32Array,\n  Float64Array,\n  XMLSerializer,\n}\n","function isFunction(x) {\n  return typeof x === 'function'\n}\n\nexport default isFunction\n","import isFunction from './is-function'\n\nfunction isObject(x) {\n  return x !== null && (typeof x === 'object' || isFunction(x))\n}\n\nexport default isObject\n","import {\n  File,\n  OffscreenCanvas,\n  ArrayBuffer,\n  DataView,\n  Blob,\n} from './utils/global-this'\nimport isObject from './utils/is-object'\nimport isFunction from './utils/is-function'\n\n// ie do't support File Constructor\nexport const SUPPORTS_FILE_CONSTRUCTOR = (function() {\n  try {\n    const file = new File([], '')\n    return isObject(file)\n  } catch (error) {\n    return false\n  }\n})()\n\nexport const SUPPORTS_OFFSCREEN_CANVAS = isFunction(OffscreenCanvas)\n\nexport const SUPPORTS_BLOB_CONSTRUCTOR_WITH_DATA_VIEW = (function() {\n  try {\n    const arrayBuffer = new ArrayBuffer()\n    const dataView = new DataView(arrayBuffer)\n    const blob = new Blob([dataView])\n    return isObject(blob)\n  } catch (error) {\n    return false\n  }\n})()\n","import {SUPPORTS_FILE_CONSTRUCTOR} from '../supports'\n\nimport {File, Blob} from './global-this'\n\nfunction toFile(parts, fileName, options) {\n  return new File(parts, fileName, options)\n}\n\n// use Blob as as fake File\nfunction toBlob(parts, fileName, options) {\n  const blob = new Blob(parts, options)\n  blob.name = fileName\n  blob.lastModified = options.lastModified || Date.now()\n  return blob\n}\n\nexport default (SUPPORTS_FILE_CONSTRUCTOR ? toFile : toBlob)\n","function toPromise(func) {\n  return async function(...arguments_) {\n    return func.call(this, ...arguments_)\n  }\n}\n\nexport default toPromise","import {Blob} from '../../utils/global-this'\nimport toPromise from '../../utils/async'\n\n// get `Blob`\nfunction blobSync(options = {}) {\n  const {blob} = this.$store\n  options = {\n    ...blob,\n    ...options,\n  }\n\n  return new Blob([blob], options)\n}\n\nconst blob = toPromise(blobSync)\n\nexport {\n  blob,\n  blobSync,\n}\n","export const DOMPARSER_TYPES = {\n  xml: 'application/xml',\n  svg: 'image/svg+xml',\n  html: 'text/html',\n}\n\nexport const XHR_RESPONSE_TYPES = {\n  none: '',\n  text: 'text',\n  json: 'json',\n  document: 'document',\n}\n\nexport const CURRY_SIDE_START = 'start'\nexport const CURRY_SIDE_END = 'end'\n\nexport const DEFAULT_TEXT_ENCODING = 'UTF-8'\n\nexport const IMAGE_LOAD_ERROR = 'error occurred during loading image'\nexport const XMLHTTP_TIMEOUT_ERROR = 'XMLHttpRequest timeout'\nexport const XMLHTTP_LOAD_ERROR = 'error occurred during XMLHttpRequest'\n","import {CURRY_SIDE_END} from '../constants'\n/**\n * Simple curry\n * internal use only\n * returns a function accept argumentst\n *\n * @param  {String} side (start | end)\n * @param  {Function} func\n * @returns  {Function}\n */\nfunction curry(side, func, ...rest) {\n  return function curried(...arguments_) {\n    const arguments__ =\n      side === CURRY_SIDE_END\n        ? [...arguments_, ...rest]\n        : [...rest, ...arguments_]\n    return func.apply(this, arguments__)\n  }\n}\n\nexport default curry\n","import {CURRY_SIDE_START} from '../constants'\nimport curry from './curry'\n\nexport default curry.bind(null, CURRY_SIDE_START)\n","import prepend from './prepend-arguments'\nimport curry from './curry'\nimport {CURRY_SIDE_END} from '../constants'\n\n// export default  curry(CURRY_SIDE_START, curry, CURRY_SIDE_START)\nexport default prepend(curry, CURRY_SIDE_END)\n","// DOMParser\nfunction throwParserError(document) {\n  const parserError = document.getElementsByTagName('parsererror')[0]\n\n  if (parserError) {\n    // eslint-disable-next-line unicorn/prefer-text-content\n    throw new Error(parserError.innerText || parserError.textContent)\n  }\n\n  return document\n}\n\nexport default throwParserError\n","import {DOMParser} from './global-this'\nimport throwParserError from './throw-dom-parser-error'\n\nfunction textToDocument(text, mimeType) {\n  const parser = new DOMParser()\n  const document = parser.parseFromString(text, mimeType)\n  throwParserError(document)\n  return document\n}\n\nexport default textToDocument\n","import append from '../../utils/append-arguments'\nimport textToDocument from '../../utils/text-to-document'\n\nimport {DOMPARSER_TYPES} from '../../constants'\n\nasync function document(encoding, type) {\n  encoding = encoding || this.$options.encoding\n  type = type || this.$store.blob.type\n  const text = await this.text(encoding)\n\n  return textToDocument(text, type)\n}\n\nconst xml = append(document, DOMPARSER_TYPES.xml)\nconst svg = append(document, DOMPARSER_TYPES.svg)\nconst html = append(document, DOMPARSER_TYPES.html)\n\nexport {document, xml, svg, html}\n","var r=new Function(\"return this\")(),e=r.FileReader,a=r.Promise,t=Array.prototype.slice,n=[\"ArrayBuffer\",\"Text\",\"DataURL\",\"BinaryString\"];function o(r){var n=t.call(arguments,1);return new a(function(a,t){var o=new e;o.addEventListener(\"load\",function(){return a(o.result)}),o.addEventListener(\"error\",function(){return t(o.error)}),r.apply(o,n)})}function i(){}for(var u=0;u<n.length;u++){var s=\"readAs\".concat(n[u]),d=o.bind(null,e.prototype[s]);i.prototype[s]=d,i[s]=d}var f=i.readAsArrayBuffer,l=i.readAsText,y=i.readAsDataURL,c=i.readAsBinaryString;export default i;export{f as readAsArrayBuffer,f as arrayBuffer,l as readAsText,l as text,y as readAsDataURL,y as dataURL,c as readAsBinaryString,c as binaryString};\n//# sourceMappingURL=index.min.mjs.map\n","import {\n  readAsArrayBuffer,\n  readAsText,\n  readAsDataURL,\n  readAsBinaryString,\n} from 'promisify-file-reader'\n\nimport {DEFAULT_TEXT_ENCODING} from '../../constants'\n\nconst methods = {\n  arrayBuffer: readAsArrayBuffer,\n  text: readAsText,\n  dataURL: readAsDataURL,\n  binaryString: readAsBinaryString,\n}\n\nfunction readAs(dataType) {\n  const method = methods[dataType]\n\n  return function readAs(encoding) {\n    encoding = String(\n      encoding || this.$options.encoding || DEFAULT_TEXT_ENCODING\n    ).toUpperCase()\n\n    const storeKey = dataType === 'text' ? dataType : `${dataType}.${encoding}`\n\n    const {$store: store} = this\n\n    if (!store[storeKey]) {\n      store[storeKey] = method(store.blob, encoding)\n    }\n\n    return store[storeKey]\n  }\n}\n\nconst arrayBuffer = readAs('arrayBuffer')\nconst text = readAs('text')\nconst dataURL = readAs('dataURL')\nconst binaryString = readAs('binaryString')\n\nexport {arrayBuffer, text, dataURL, binaryString}\n","import constructFile from '../../utils/construct-file'\nimport toPromise from '../../utils/async'\n\n// get `File`\nfunction fileSync(name, options = '') {\n  const {blob} = this.$store\n  name = name || blob.name\n  options = {\n    ...blob,\n    ...options,\n  }\n\n  return constructFile([blob], name, options)\n}\n\nconst file = toPromise(fileSync)\n\nexport {fileSync, file}\n","import {createImageBitmap} from '../../utils/global-this'\nimport toPromise from '../../utils/async'\n\n// get `ImageBitmap`\nfunction imageBitmapSync(...arguments_) {\n  return createImageBitmap(this.$store.blob, ...arguments_)\n}\n\nconst imageBitmap = toPromise(imageBitmapSync)\n\nexport {imageBitmap, imageBitmapSync}\n","import {SUPPORTS_OFFSCREEN_CANVAS} from '../supports'\n\nimport {document, OffscreenCanvas} from './global-this'\n\nfunction getOffscreenCanvasRenderingContext2D(width, height) {\n  const canvas = new OffscreenCanvas(width, height)\n  return canvas.getContext('2d')\n}\nfunction getCanvasRenderingContext2D(width, height) {\n  const canvas = document.createElement('canvas')\n  canvas.width = width\n  canvas.height = height\n  return canvas.getContext('2d')\n}\n\nexport default (SUPPORTS_OFFSCREEN_CANVAS\n  ? getOffscreenCanvasRenderingContext2D\n  : getCanvasRenderingContext2D)\n","import getRenderingContext2D from './get-rendering-context'\n\nfunction drawImage(image) {\n  const context = getRenderingContext2D(\n    image.naturalWidth || image.width,\n    image.naturalHeight || image.height\n  )\n  context.drawImage(image, 0, 0)\n  return context\n}\n\nexport default drawImage\n","import drawImage from './draw-image'\n\nfunction getImageData(\n  image,\n  sx = 0,\n  sy = 0,\n  sw = image.naturalWidth || image.width,\n  sh = image.naturalHeight || image.height\n) {\n  const context = drawImage(image)\n\n  return context.getImageData(sx, sy, sw, sh)\n}\n\nexport default getImageData\n","\nimport getImageData from '../../utils/get-image-data'\n\nasync function imageData(sx, sy, sw, sh) {\n  const image = await this.image()\n  return getImageData(image, sx, sy, sw, sh)\n}\n\nexport {imageData}\n","function isUndefined(x) {\n  return typeof x === 'undefined'\n}\n\nexport default isUndefined\n","import isUndefined from './is-undefined'\n\nfunction promisify(func) {\n  function promised(...arguments_) {\n    return new Promise((resolve, reject) => {\n      const result = func.call(this, resolve, reject, ...arguments_)\n\n      if (!isUndefined(result)) {\n        resolve(result)\n      }\n    })\n  }\n\n  return promised\n}\n\nexport default promisify\n","function on(object, type, listener, options = false) {\n  object.addEventListener(type, listener, options)\n}\n\nexport default on\n","import promisify from './promisify'\nimport on from './on'\nimport {IMAGE_LOAD_ERROR} from '../constants'\n\nfunction waitForImage(resolve, reject, image) {\n  if (image.naturalWidth) {\n    return resolve(image)\n  }\n\n  on(image, 'load', function() {\n    resolve(image)\n  })\n\n  on(image, 'error', function() {\n    reject(new Error(IMAGE_LOAD_ERROR))\n  })\n}\n\nexport default promisify(waitForImage)\n","import {Image} from './global-this'\nimport waitForImage from './wait-for-image'\n\n// load as a `HTMLImageElement`\nfunction loadImage(url) {\n  const image = new Image()\n  image.src = url\n  return waitForImage(image)\n}\n\nexport default loadImage\n","import loadImage from '../../utils/load-image'\n\nasync function image() {\n  const url = await this.url()\n\n  return loadImage(url)\n}\n\nexport {image}\n","async function json(encoding, reviver) {\n  const text = await this.text(encoding || this.$options.encoding)\n  return JSON.parse(text, reviver)\n}\n\nexport {json}\n","import {\n  DataView,\n  Float32Array,\n  Float64Array,\n  Int16Array,\n  Int32Array,\n  Int8Array,\n  Uint16Array,\n  Uint32Array,\n  Uint8Array,\n  Uint8ClampedArray,\n} from '../../utils/global-this'\n\nfunction getView(TypedArray) {\n  return async function arrayBufferView(parser, byteOffset, length) {\n    const buffer = await this.arrayBuffer()\n    return new TypedArray(buffer, byteOffset, length)\n  }\n}\n\nconst dataView = getView(DataView)\nconst float32Array = getView(Float32Array)\nconst float64Array = getView(Float64Array)\nconst int16Array = getView(Int16Array)\nconst int32Array = getView(Int32Array)\nconst int8Array = getView(Int8Array)\nconst uint16Array = getView(Uint16Array)\nconst uint32Array = getView(Uint32Array)\nconst uint8Array = getView(Uint8Array)\nconst uint8ClampedArray = getView(Uint8ClampedArray)\n\nexport {\n  dataView,\n  float32Array,\n  float64Array,\n  int16Array,\n  int32Array,\n  int8Array,\n  uint16Array,\n  uint32Array,\n  uint8Array,\n  uint8ClampedArray,\n}\n","import {URL} from '../../utils/global-this'\nimport toPromise from '../../utils/async'\n\n// get `URL`\nfunction urlSync() {\n  return URL.createObjectURL(this.$store.blob)\n}\n\nconst url = toPromise(urlSync)\n\nexport {url, urlSync}\n","import {Blob} from '../utils/global-this'\nimport defineValues from '../utils/define-values'\n\nimport constructFile from '../utils/construct-file'\nimport * as prototype from './prototype'\n\nclass File {\n  constructor(data, options = {}) {\n    let blob = data\n    const type = options.type || data.type\n    const name = options.name || data.name\n    const lastModified = options.lastModified || data.lastModified\n\n    if (\n      type !== data.type ||\n      name !== data.name ||\n      lastModified !== data.lastModified\n    ) {\n      if (name) {\n        blob = constructFile([data], name, {\n          type,\n          lastModified,\n        })\n      } else {\n        blob = new Blob([data], {\n          type,\n        })\n      }\n    }\n\n    this.$store = {\n      original: data,\n      blob,\n    }\n    this.$options = options\n  }\n}\n\ndefineValues(File.prototype, prototype)\n\nexport default File\n","import isObject from './is-object'\nimport isFunction from './is-function'\n\nfunction isThenAble(x) {\n  return isObject(x) && isFunction(x.then)\n}\n\nexport default isThenAble\n","const {toString} = Object.prototype\nfunction getType(x) {\n  return toString.call(x).slice(8, -1)\n}\nexport default getType\n","import {XHR_RESPONSE_TYPES} from '../constants'\n\nfunction parseXHRData(xhr) {\n  switch (xhr.responseType) {\n    case XHR_RESPONSE_TYPES.none:\n    case XHR_RESPONSE_TYPES.text:\n      return xhr.responseText\n    case XHR_RESPONSE_TYPES.json:\n      return JSON.stringify(xhr.response)\n    case XHR_RESPONSE_TYPES.document:\n      return xhr.responseXML\n    default:\n      return xhr.response\n  }\n}\n\nexport default parseXHRData\n","import promisify from './promisify'\nimport on from './on'\nimport parseXHRData from './parse-xmlhttp-request-data'\nimport {XMLHTTP_TIMEOUT_ERROR, XMLHTTP_LOAD_ERROR} from '../constants'\n\nfunction waitForXMLHttpRequest(resolve, reject, xhr) {\n  if (xhr.readyState === 4) {\n    resolve(parseXHRData(xhr))\n    return\n  }\n\n  on(xhr, 'load', function() {\n    resolve(parseXHRData(xhr))\n  })\n  on(xhr, 'error', function() {\n    reject(new Error(XMLHTTP_LOAD_ERROR))\n  })\n  on(xhr, 'timeout', function() {\n    reject(new Error(XMLHTTP_TIMEOUT_ERROR))\n  })\n}\n\nexport default promisify(waitForXMLHttpRequest)\n","import promisify from './promisify'\nimport on from './on'\n\nfunction waitForFileReader(resolve, reject, fileReader) {\n  if (fileReader.result) {\n    return resolve(fileReader.result)\n  }\n\n  if (fileReader.error) {\n    return reject(fileReader.error)\n  }\n\n  on(fileReader, 'load', function() {\n    resolve(fileReader.result)\n  })\n\n  on(fileReader, 'error', function() {\n    reject(fileReader.error)\n  })\n}\n\nexport default promisify(waitForFileReader)\n","import getRenderingContext2D from './get-rendering-context'\n\nfunction putImageData(data) {\n  const context = getRenderingContext2D(data.width, data.height)\n  context.putImageData(data, 0, 0)\n  return context\n}\n\nexport default putImageData\n","import isObject from './is-object'\nimport isFunction from './is-function'\n\n// whatwg-fetch polyfilled fetch Symbol.toString is not current\nfunction isBody(x) {\n  return (\n    isObject(x) &&\n    isFunction(x.arrayBuffer) &&\n    isFunction(x.blob) &&\n    isFunction(x.formData) &&\n    isFunction(x.json) &&\n    isFunction(x.text)\n  )\n}\n\nexport default isBody\n","import isObject from './is-object'\nimport isFunction from './is-function'\n\nfunction isDocument(x) {\n  return (\n    isObject(x) && isObject(x.documentElement) && isFunction(x.createElement)\n  )\n}\n\nexport default isDocument\n","import {XMLSerializer} from './global-this'\n\nfunction documentToText(document) {\n  return (\n    document.documentElement.outerHTML ||\n    new XMLSerializer().serializeToString(document)\n  )\n}\n\nexport default documentToText\n","import {atob, Uint8Array, Blob} from './global-this'\n\nfunction dataURLToBlob(data, type) {\n  const binary = atob(data.split(',')[1])\n  const array = Uint8Array.from(binary, byte => byte.charCodeAt(0))\n\n  return new Blob([array], {\n    type,\n  })\n}\n\nexport default dataURLToBlob\n","import promisify from './promisify'\nimport parseBase64DataURL from './data-url-to-blob'\n\nfunction canvasToBlob(resolve, reject, canvas, type, quality) {\n  if (canvas.toBlob) {\n    return canvas.toBlob(resolve, type, quality)\n  }\n\n  if (canvas.convertToBlob) {\n    return resolve(canvas.convertToBlob(type, quality))\n  }\n\n  const url = canvas.toDataURL(type, quality)\n  const blob = parseBase64DataURL(url)\n  return resolve(blob)\n}\n\nexport default promisify(canvasToBlob)\n","import isObject from './is-object'\nimport isFunction from './is-function'\n\nfunction isCanvas(x) {\n  return isObject(x) && isFunction(x.getContext)\n}\n\nexport default isCanvas\n","import isObject from './is-object'\nimport isCanvas from './is-canvas'\n\nfunction isRenderingContext(x) {\n  return isObject(x) && isCanvas(x.canvas)\n}\n\nexport default isRenderingContext\n","const base64DataURLPattern = /^data:(.*?)?;base64,(.+)$/\n\nfunction isDataURL(url) {\n  return base64DataURLPattern.test(url)\n}\n\nexport default isDataURL\n","import isObject from './is-object'\nimport getType from './get-type'\n\nfunction isArrayBuffer(x) {\n  return isObject(x) && getType(x) === 'ArrayBuffer'\n}\n\nexport default isArrayBuffer\n","import isArrayBuffer from './is-array-buffer'\nimport isObject from './is-object'\n\n// ie DataView.toString is [object Object]\nfunction isDataView(x) {\n  // can't do ArrayBuffer.isView check on ie 10\n  return isObject(x) && isArrayBuffer(x.buffer)\n}\n\nexport default isDataView\n","import {Blob} from '../utils/global-this'\nimport isThenAble from '../utils/is-then-able'\nimport File from './file'\nimport getType from '../utils/get-type'\nimport waitForXMLHttpRequest from '../utils/wait-for-xmlhttp-request'\nimport waitForImage from '../utils/wait-for-image'\nimport waitForFileReader from '../utils/wait-for-file-reader'\nimport drawImage from '../utils/draw-image'\nimport putImageData from '../utils/put-image-data'\nimport isBody from '../utils/is-body'\nimport isDocument from '../utils/is-document'\nimport documentToText from '../utils/document-to-text'\nimport canvasToBlob from '../utils/canvas-to-blob'\nimport isRenderingContext from '../utils/is-rendering-context'\nimport isDataURL from '../utils/is-data-url'\nimport dataURLToBlob from '../utils/data-url-to-blob'\nimport download from '../utils/download'\nimport {SUPPORTS_BLOB_CONSTRUCTOR_WITH_DATA_VIEW} from '../supports'\nimport isDataView from '../utils/is-data-view'\n\nfunction parseFromData(data, options) {\n  const parser = () => parseFromData(options)\n\n  // Promise\n  if (isThenAble(data)) {\n    return data.then(parser)\n  }\n\n  const type = getType(data)\n\n  if (type === 'Blob' || type === 'File') {\n    return data\n  }\n\n  if (type === 'XMLHttpRequest') {\n    return waitForXMLHttpRequest(data).then(parser)\n  }\n\n  if (type === 'HTMLImageElement') {\n    return waitForImage(data)\n      .then(drawImage)\n      .then(parser)\n  }\n\n  if (type === 'ImageBitmap') {\n    return parser(drawImage(data))\n  }\n\n  if (type === 'ImageData') {\n    return parser(putImageData(data))\n  }\n\n  if (type === 'FileReader') {\n    return waitForFileReader(data).then(parser)\n  }\n\n  if (isBody(data)) {\n    return data.blob()\n  }\n\n  if (isDocument(data)) {\n    return parser(documentToText(data))\n  }\n\n  // HTMLCanvasElement\n  if (type === 'HTMLCanvasElement') {\n    return canvasToBlob(data, options.type, options.quality)\n  }\n\n  // OffscreenCanvas\n  if (type === 'OffscreenCanvas') {\n    return data.convertToBlob(options)\n  }\n\n  // RenderingContext\n  if (isRenderingContext(data)) {\n    return parser(data.canvas)\n  }\n\n  if (isDataURL(data)) {\n    try {\n      const blob = dataURLToBlob(data)\n      if (blob) {\n        return blob\n      }\n    } catch (error) {}\n  }\n\n  if (/^(?:blob|data):/.test(data)) {\n    return download(data).then(parser)\n  }\n\n  if (!SUPPORTS_BLOB_CONSTRUCTOR_WITH_DATA_VIEW && isDataView(data)) {\n    return parser(data.buffer)\n  }\n\n  // if (type === 'ArrayBuffer' || ArrayBuffer.isView(data)) {\n  //   return new Blob([data])\n  // }\n\n  return new Blob([data], options)\n}\n\nfunction parseData(data, options = {}) {\n  const blob = parseFromData(data, options)\n  const promise = isThenAble(blob) ? blob : Promise.resolve(blob)\n\n  return promise.then(() => new File(blob, options))\n}\n\nexport default parseData\n","import defineValues from './utils/define-values'\n\nimport File from './core/file'\nimport from from './core/from'\n\ndefineValues(File, {\n  from,\n})\n\nexport default File\nexport {from}\n"],"names":["defineProperties","Object","defineValues","object","values","options","configurable","writable","enumerable","properties","keys","key","value","globalThis","Function","URL","webkitURL","ArrayBuffer","atob","Blob","createImageBitmap","DataView","DOMParser","document","fetch","File","Image","OffscreenCanvas","Promise","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","XMLSerializer","isFunction","x","isObject","SUPPORTS_FILE_CONSTRUCTOR","file","error","SUPPORTS_OFFSCREEN_CANVAS","SUPPORTS_BLOB_CONSTRUCTOR_WITH_DATA_VIEW","arrayBuffer","dataView","blob","toFile","parts","fileName","toBlob","name","lastModified","Date","now","f","args","i","arguments","length","resolve","apply","e","reject","toPromise","func","arguments_","call","blobSync","$store","DOMPARSER_TYPES","xml","svg","html","XHR_RESPONSE_TYPES","none","text","json","CURRY_SIDE_START","CURRY_SIDE_END","DEFAULT_TEXT_ENCODING","IMAGE_LOAD_ERROR","XMLHTTP_TIMEOUT_ERROR","XMLHTTP_LOAD_ERROR","curry","side","rest","curried","arguments__","bind","prepend","throwParserError","parserError","getElementsByTagName","Error","innerText","textContent","textToDocument","mimeType","parser","parseFromString","then","direct","encoding","type","$options","append","FileReader","slice","Array","prototype","dataTypes","readBlobAsPromise","method","fileReader","addEventListener","result","PromisifyFileReader","methodName","methods","readAsArrayBuffer","readAsText","dataURL","readAsDataURL","binaryString","readAsBinaryString","readAs","dataType","String","toUpperCase","storeKey","store","fileSync","constructFile","imageBitmapSync","imageBitmap","getOffscreenCanvasRenderingContext2D","width","height","canvas","getContext","getCanvasRenderingContext2D","createElement","drawImage","image","context","getRenderingContext2D","naturalWidth","naturalHeight","getImageData","sx","sy","sw","sh","imageData","isUndefined","promisify","promised","on","listener","waitForImage","loadImage","url","src","reviver","JSON","parse","getView","TypedArray","byteOffset","buffer","float32Array","float64Array","int16Array","int32Array","int8Array","uint16Array","uint32Array","uint8Array","uint8ClampedArray","urlSync","createObjectURL","data","original","isThenAble","toString","getType","parseXHRData","xhr","responseType","responseText","stringify","response","responseXML","waitForXMLHttpRequest","readyState","waitForFileReader","putImageData","isBody","formData","isDocument","documentElement","documentToText","outerHTML","serializeToString","dataURLToBlob","binary","split","array","from","byte","charCodeAt","canvasToBlob","quality","convertToBlob","toDataURL","parseBase64DataURL","isCanvas","isRenderingContext","base64DataURLPattern","isDataURL","test","isArrayBuffer","isDataView","parseFromData","download","parseData","promise"],"mappings":"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"}