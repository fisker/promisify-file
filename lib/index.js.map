{"version":3,"file":"index.js","sources":["../src/utils/define-values.js","../src/utils/global-this.js","../src/utils/is-function.js","../src/utils/is-object.js","../src/supports.js","../src/utils/construct-file.js","../src/utils/get-type.js","../src/utils/is-blob.js","../src/constants.js","../src/utils/async.js","../src/core/prototype/blob.js","../src/utils/throw-dom-parser-error.js","../src/utils/text-to-document.js","../src/utils/is-null.js","../src/utils/has-own.js","../src/core/helper/cache-result.js","../src/core/prototype/dom-parser.js","../node_modules/promisify-file-reader/dist/index.min.mjs","../src/core/prototype/file-reader.js","../src/core/prototype/file.js","../src/core/prototype/image-bitmap.js","../src/utils/get-rendering-context.js","../src/utils/draw-image.js","../src/utils/get-image-data.js","../src/core/prototype/image-data.js","../src/utils/is-undefined.js","../src/utils/promisify.js","../src/utils/on.js","../src/utils/wait-for-image.js","../src/utils/load-image.js","../src/core/prototype/image.js","../src/core/prototype/json.js","../src/core/prototype/typed-array.js","../src/core/prototype/url.js","../src/core/file.js","../src/utils/is-then-able.js","../src/utils/parse-xmlhttp-request-data.js","../src/utils/wait-for-xmlhttp-request.js","../src/utils/wait-for-file-reader.js","../src/utils/put-image-data.js","../src/utils/is-body.js","../src/utils/is-document.js","../src/utils/document-to-text.js","../src/utils/data-url-to-blob.js","../src/utils/canvas-to-blob.js","../src/utils/is-canvas.js","../src/utils/is-rendering-context.js","../src/utils/is-data-url.js","../src/utils/download.js","../src/utils/is-array-buffer.js","../src/utils/is-data-view.js","../src/core/from.js","../src/index.js"],"sourcesContent":["const {defineProperties} = Object\n\nfunction defineValues(object, values, options) {\n  const {configurable, writable, enumerable} = {\n    configurable: true,\n    writable: true,\n    enumerable: true,\n    ...options,\n  }\n\n  const properties = {}\n  const keys = Object.keys(values)\n\n  for (const key of keys) {\n    properties[key] = {\n      value: values[key],\n      configurable,\n      writable,\n      enumerable,\n    }\n  }\n\n  return defineProperties(object, properties)\n}\n\nexport default defineValues\n","// eslint-disable-next-line no-new-func\nconst globalThis = new Function('return this')()\n\nconst URL = globalThis.URL || globalThis.webkitURL\nconst {\n  ArrayBuffer,\n  atob,\n  Blob,\n  createImageBitmap,\n  DataView,\n  DOMParser,\n  document,\n  fetch,\n  File,\n  Image,\n  OffscreenCanvas,\n  Promise,\n  Int8Array,\n  Uint8Array,\n  Uint8ClampedArray,\n  Int16Array,\n  Uint16Array,\n  Int32Array,\n  Uint32Array,\n  Float32Array,\n  Float64Array,\n  XMLSerializer,\n} = globalThis\n\nexport default globalThis\n\nexport {\n  ArrayBuffer,\n  atob,\n  Blob,\n  createImageBitmap,\n  DataView,\n  DOMParser,\n  document,\n  fetch,\n  File,\n  Image,\n  OffscreenCanvas,\n  Promise,\n  URL,\n  Int8Array,\n  Uint8Array,\n  Uint8ClampedArray,\n  Int16Array,\n  Uint16Array,\n  Int32Array,\n  Uint32Array,\n  Float32Array,\n  Float64Array,\n  XMLSerializer,\n}\n","function isFunction(x) {\n  return typeof x === 'function'\n}\n\nexport default isFunction\n","import isFunction from './is-function.js'\n\nfunction isObject(x) {\n  return x !== null && (typeof x === 'object' || isFunction(x))\n}\n\nexport default isObject\n","import {\n  File,\n  OffscreenCanvas,\n  ArrayBuffer,\n  DataView,\n  Blob,\n  URL,\n} from './utils/global-this.js'\nimport isObject from './utils/is-object.js'\nimport isFunction from './utils/is-function.js'\n\n// IE don't support File Constructor\nexport const SUPPORTS_FILE_CONSTRUCTOR = (function () {\n  try {\n    const file = new File([], '')\n    return isObject(file)\n  } catch {\n    return false\n  }\n})()\n\nexport const SUPPORTS_OFFSCREEN_CANVAS = isFunction(OffscreenCanvas)\n\nexport const SUPPORTS_BLOB_CONSTRUCTOR_WITH_DATA_VIEW = (function () {\n  try {\n    const arrayBuffer = new ArrayBuffer()\n    const dataView = new DataView(arrayBuffer)\n    const blob = new Blob([dataView])\n    return isObject(blob)\n  } catch {\n    return false\n  }\n})()\n\nexport const SUPPORTS_URL_CREATE_OBJECT_URL =\n  isObject(URL) && isFunction(URL.createObjectURL)\n","import {SUPPORTS_FILE_CONSTRUCTOR} from '../supports.js'\nimport {File, Blob} from './global-this.js'\n\nfunction toFile(parts, fileName, options) {\n  return new File(parts, fileName, options)\n}\n\n// use Blob as as fake File\nfunction toBlob(parts, fileName, options) {\n  const blob = new Blob(parts, options)\n  blob.name = fileName\n  blob.lastModified = options.lastModified || Date.now()\n  return blob\n}\n\nexport default SUPPORTS_FILE_CONSTRUCTOR ? toFile : toBlob\n","const {toString} = Object.prototype\nfunction getType(x) {\n  return toString.call(x).slice(8, -1)\n}\nexport default getType\n","import getType from './get-type.js'\n\nfunction isBlob(x) {\n  const type = getType(x)\n\n  return type === 'Blob' || type === 'File'\n}\n\nexport default isBlob\n","export const DOMPARSER_TYPES = {\n  xml: 'application/xml',\n  svg: 'image/svg+xml',\n  html: 'text/html',\n}\n\nexport const XHR_RESPONSE_TYPES = {\n  none: '',\n  text: 'text',\n  json: 'json',\n  document: 'document',\n}\n\nexport const CURRY_SIDE_START = 'start'\nexport const CURRY_SIDE_END = 'end'\n\nexport const DEFAULT_TEXT_ENCODING = 'UTF-8'\n\nexport const IMAGE_LOAD_ERROR = 'error occurred during loading image'\nexport const XMLHTTP_TIMEOUT_ERROR = 'XMLHttpRequest timeout'\nexport const XMLHTTP_LOAD_ERROR = 'error occurred during XMLHttpRequest'\nexport const CONSTRUCTOR_DATA_TYPE_ERROR = '`data` except a `Blob`'\n","function toPromise(function_) {\n  return async function (...arguments_) {\n    return function_.call(this, ...arguments_)\n  }\n}\n\nexport default toPromise\n","import {Blob} from '../../utils/global-this.js'\nimport toPromise from '../../utils/async.js'\n\n// get `Blob`\nfunction blobSync(options = {}) {\n  const {blob} = this.$store\n  options = {\n    ...blob,\n    ...options,\n  }\n\n  return new Blob([blob], options)\n}\n\nconst blob = toPromise(blobSync)\n\nexport {blob, blobSync}\n","// DOMParser\nfunction throwParserError(document) {\n  const parserError = document.getElementsByTagName('parsererror')[0]\n\n  if (parserError) {\n    throw new Error(parserError.innerText || parserError.textContent)\n  }\n\n  return document\n}\n\nexport default throwParserError\n","import {DOMParser} from './global-this.js'\nimport throwParserError from './throw-dom-parser-error.js'\n\nfunction textToDocument(text, mimeType) {\n  const parser = new DOMParser()\n  const document = parser.parseFromString(text, mimeType)\n  throwParserError(document)\n  return document\n}\n\nexport default textToDocument\n","function isNull(x) {\n  return x === null\n}\n\nexport default isNull\n","import isNull from './is-null.js'\n\nconst {hasOwnProperty} = Object.prototype\n\nfunction hasOwn(object, key) {\n  return !isNull(object) && hasOwnProperty.call(object, key)\n}\n\nexport default hasOwn\n","import hasOwn from '../../utils/has-own.js'\nimport isFunction from '../../utils/is-function.js'\n\nfunction cacheResult(key, function_) {\n  return function (...arguments_) {\n    const cacheKey = isFunction(key) ? key.call(this, ...arguments_) : key\n    const {$store: store} = this\n    if (hasOwn(store, cacheKey)) {\n      return store[cacheKey]\n    }\n    const result = function_.call(this, ...arguments_)\n    store[cacheKey] = result\n\n    return result\n  }\n}\n\nexport default cacheResult\n","import textToDocument from '../../utils/text-to-document.js'\nimport cacheResult from '../helper/cache-result.js'\n\nimport {DOMPARSER_TYPES} from '../../constants.js'\n\nfunction cacheKey(type) {\n  return `document[${type}]`\n}\n\nfunction parseDocumentWithType(type) {\n  return cacheResult(cacheKey(type), async function document() {\n    const text = await this.text()\n    return textToDocument(text, type)\n  })\n}\n\nfunction document(type) {\n  type = type || this.$store.blob.type\n  return parseDocumentWithType(type).call(this)\n}\n\nconst xml = parseDocumentWithType(DOMPARSER_TYPES.xml)\nconst svg = parseDocumentWithType(DOMPARSER_TYPES.svg)\nconst html = parseDocumentWithType(DOMPARSER_TYPES.html)\n\nexport {document, xml, svg, html}\n","var r=new Function(\"return this\")(),e=r.FileReader,t=r.Promise,a=r.Blob;function n(r){return function(a,n){return new t((function(t,o){var i=new e;i.onload=function(){return t(i.result)},i.onerror=function(){return o(i.error)},r.call(i,a,n)}))}}var o,i=a.prototype.arrayBuffer?(o=a.prototype.arrayBuffer,function(r,e){return o.call(r,e)}):n(e.prototype.readAsArrayBuffer),u=String.fromCharCode;function f(r){for(var e=new Uint8Array(r),t=e.byteLength,a=\"\",n=0;n<t;n+=1)a+=u(e[n]);return a}var s=e.prototype.readAsBinaryString?n(e.prototype.readAsBinaryString):function(r){return i(r).then(f)},y=n(e.prototype.readAsDataURL),p=n(e.prototype.readAsText),d=Object.freeze({__proto__:null,readAsArrayBuffer:i,readAsBinaryString:s,readAsDataURL:y,readAsText:p}),A=Object.freeze({__proto__:null,readAsArrayBuffer:i,readAsBinaryString:s,readAsDataURL:y,readAsText:p,arrayBuffer:i,binaryString:s,dataURL:y,text:p}),c=function(){};Object.assign(c.prototype,d),Object.assign(c,A);export default c;export{i as arrayBuffer,s as binaryString,y as dataURL,i as readAsArrayBuffer,s as readAsBinaryString,y as readAsDataURL,p as readAsText,p as text};\n//# sourceMappingURL=index.min.mjs.map\n","import {\n  readAsArrayBuffer,\n  readAsText,\n  readAsDataURL,\n  readAsBinaryString,\n} from 'promisify-file-reader'\n\nimport cacheResult from '../helper/cache-result.js'\n\nimport {DEFAULT_TEXT_ENCODING} from '../../constants.js'\n\nconst methods = {\n  arrayBuffer: readAsArrayBuffer,\n  text: readAsText,\n  dataURL: readAsDataURL,\n  binaryString: readAsBinaryString,\n}\n\nfunction readAs(dataType) {\n  const method = methods[dataType]\n\n  function cacheKey(encoding) {\n    if (dataType !== 'text') {\n      return dataType\n    }\n\n    encoding = String(\n      encoding || this.$options.encoding || DEFAULT_TEXT_ENCODING\n    ).toUpperCase()\n\n    return `${dataType}[${encoding}]`\n  }\n\n  function readAs(...arguments_) {\n    return method(this.$store.blob, ...arguments_)\n  }\n\n  return cacheResult(cacheKey, readAs)\n}\n\nconst arrayBuffer = readAs('arrayBuffer')\nconst text = readAs('text')\nconst dataURL = readAs('dataURL')\nconst binaryString = readAs('binaryString')\n\nexport {arrayBuffer, text, dataURL, binaryString}\n","import constructFile from '../../utils/construct-file.js'\nimport toPromise from '../../utils/async.js'\n\n// get `File`\nfunction fileSync(name, options = '') {\n  const {blob} = this.$store\n  name = name || blob.name\n  options = {\n    ...blob,\n    ...options,\n  }\n\n  return constructFile([blob], name, options)\n}\n\nconst file = toPromise(fileSync)\n\nexport {fileSync, file}\n","import {createImageBitmap} from '../../utils/global-this.js'\nimport cacheResult from '../helper/cache-result.js'\n\n// get `ImageBitmap`\nconst imageBitmap = cacheResult(\n  'imageBitmap',\n  function imageBitmap(...arguments_) {\n    return createImageBitmap(this.$store.blob, ...arguments_)\n  }\n)\n\nexport {imageBitmap}\n","import {SUPPORTS_OFFSCREEN_CANVAS} from '../supports.js'\n\nimport {document, OffscreenCanvas} from './global-this.js'\n\nfunction getOffscreenCanvasRenderingContext2D(width, height) {\n  const canvas = new OffscreenCanvas(width, height)\n  return canvas.getContext('2d')\n}\nfunction getCanvasRenderingContext2D(width, height) {\n  const canvas = document.createElement('canvas')\n  canvas.width = width\n  canvas.height = height\n  return canvas.getContext('2d')\n}\n\nexport default SUPPORTS_OFFSCREEN_CANVAS\n  ? getOffscreenCanvasRenderingContext2D\n  : getCanvasRenderingContext2D\n","import getRenderingContext2D from './get-rendering-context.js'\n\nfunction drawImage(image) {\n  const context = getRenderingContext2D(\n    image.naturalWidth || image.width,\n    image.naturalHeight || image.height\n  )\n  context.drawImage(image, 0, 0)\n  return context\n}\n\nexport default drawImage\n","import drawImage from './draw-image.js'\n\nfunction getImageData(\n  image,\n  sx = 0,\n  sy = 0,\n  sw = image.naturalWidth || image.width,\n  sh = image.naturalHeight || image.height\n) {\n  const context = drawImage(image)\n\n  return context.getImageData(sx, sy, sw, sh)\n}\n\nexport default getImageData\n","import getImageData from '../../utils/get-image-data.js'\nimport cacheResult from '../helper/cache-result.js'\n\n// get `ImageBitmap`\nconst imageData = cacheResult(\n  'imageData',\n  async function imageData(...arguments_) {\n    const image = await this.image()\n    return getImageData(image, ...arguments_)\n  }\n)\n\nexport {imageData}\n","function isUndefined(x) {\n  return typeof x === 'undefined'\n}\n\nexport default isUndefined\n","import isUndefined from './is-undefined.js'\n\nfunction promisify(function_) {\n  function promised(...arguments_) {\n    return new Promise((resolve, reject) => {\n      const result = function_.call(this, resolve, reject, ...arguments_)\n\n      if (!isUndefined(result)) {\n        resolve(result)\n      }\n    })\n  }\n\n  return promised\n}\n\nexport default promisify\n","function on(object, type, listener, options = false) {\n  object.addEventListener(type, listener, options)\n}\n\nexport default on\n","import {IMAGE_LOAD_ERROR} from '../constants.js'\nimport promisify from './promisify.js'\nimport on from './on.js'\n\nfunction waitForImage(resolve, reject, image) {\n  if (image.naturalWidth) {\n    resolve(image)\n    return\n  }\n\n  on(image, 'load', function () {\n    resolve(image)\n  })\n\n  on(image, 'error', function () {\n    reject(new Error(IMAGE_LOAD_ERROR))\n  })\n}\n\nexport default promisify(waitForImage)\n","import {Image} from './global-this.js'\nimport waitForImage from './wait-for-image.js'\n\n// load as a `HTMLImageElement`\nfunction loadImage(url) {\n  const image = new Image()\n  image.src = url\n  return waitForImage(image)\n}\n\nexport default loadImage\n","import loadImage from '../../utils/load-image.js'\nimport {SUPPORTS_URL_CREATE_OBJECT_URL} from '../../supports.js'\nimport cacheResult from '../helper/cache-result.js'\n\nconst image = cacheResult('image', async function image() {\n  const url = await this[SUPPORTS_URL_CREATE_OBJECT_URL ? 'url' : 'dataURL']()\n\n  return loadImage(url)\n})\n\nexport {image}\n","async function json(encoding, reviver) {\n  const text = await this.text(encoding || this.$options.encoding)\n  return JSON.parse(text, reviver)\n}\n\nexport {json}\n","import globalThis from '../../utils/global-this.js'\nimport cacheResult from '../helper/cache-result.js'\n\nfunction getView(type) {\n  const TypedArray = globalThis[type[0].toUpperCase() + type.slice(1)]\n  async function arrayBufferView(byteOffset, length) {\n    const buffer = await this.arrayBuffer()\n    return new TypedArray(buffer, byteOffset, length)\n  }\n\n  return cacheResult(type, arrayBufferView)\n}\n\nconst dataView = getView('dataView')\nconst float32Array = getView('float32Array')\nconst float64Array = getView('float64Array')\nconst int16Array = getView('int16Array')\nconst int32Array = getView('int32Array')\nconst int8Array = getView('int8Array')\nconst uint16Array = getView('uint16Array')\nconst uint32Array = getView('uint32Array')\nconst uint8Array = getView('uint8Array')\nconst uint8ClampedArray = getView('uint8ClampedArray')\n\nexport {\n  dataView,\n  float32Array,\n  float64Array,\n  int16Array,\n  int32Array,\n  int8Array,\n  uint16Array,\n  uint32Array,\n  uint8Array,\n  uint8ClampedArray,\n}\n","import {URL} from '../../utils/global-this.js'\nimport toPromise from '../../utils/async.js'\nimport cacheResult from '../helper/cache-result.js'\n\n// get `URL`\nconst urlSync = cacheResult('url', function url() {\n  return URL.createObjectURL(this.$store.blob)\n})\n\nconst url = toPromise(urlSync)\n\nexport {url, urlSync}\n","import {Blob} from '../utils/global-this.js'\nimport defineValues from '../utils/define-values.js'\nimport constructFile from '../utils/construct-file.js'\nimport isBlob from '../utils/is-blob.js'\nimport {CONSTRUCTOR_DATA_TYPE_ERROR} from '../constants.js'\nimport * as prototype from './prototype/index.js'\n\nclass File {\n  constructor(data, options = {}) {\n    if (!isBlob(data)) {\n      throw new TypeError(`${CONSTRUCTOR_DATA_TYPE_ERROR}, got ${typeof data}`)\n    }\n\n    let blob = data\n    const {\n      type = blob.type,\n      name = blob.name,\n      lastModified = blob.lastModified,\n    } = options\n\n    if (\n      type !== blob.type ||\n      name !== blob.name ||\n      lastModified !== blob.lastModified\n    ) {\n      if (name) {\n        blob = constructFile([data], name, {\n          type,\n          lastModified,\n        })\n      } else {\n        blob = new Blob([data], {\n          type,\n        })\n      }\n    }\n\n    this.$store = {\n      original: data,\n      blob,\n    }\n    this.$options = options\n  }\n}\n\ndefineValues(File.prototype, prototype)\n\nexport default File\n","import isObject from './is-object.js'\nimport isFunction from './is-function.js'\n\nfunction isThenAble(x) {\n  return isObject(x) && isFunction(x.then)\n}\n\nexport default isThenAble\n","import {XHR_RESPONSE_TYPES} from '../constants.js'\n\nfunction parseXHRData(xhr) {\n  switch (xhr.responseType) {\n    case XHR_RESPONSE_TYPES.none:\n    case XHR_RESPONSE_TYPES.text:\n      return xhr.responseText\n    case XHR_RESPONSE_TYPES.json:\n      return JSON.stringify(xhr.response)\n    case XHR_RESPONSE_TYPES.document:\n      return xhr.responseXML\n    default:\n      return xhr.response\n  }\n}\n\nexport default parseXHRData\n","import {XMLHTTP_TIMEOUT_ERROR, XMLHTTP_LOAD_ERROR} from '../constants.js'\nimport promisify from './promisify.js'\nimport on from './on.js'\nimport parseXHRData from './parse-xmlhttp-request-data.js'\n\nfunction waitForXMLHttpRequest(resolve, reject, xhr) {\n  if (xhr.readyState === 4) {\n    resolve(parseXHRData(xhr))\n    return\n  }\n\n  on(xhr, 'load', function () {\n    resolve(parseXHRData(xhr))\n  })\n  on(xhr, 'error', function () {\n    reject(new Error(XMLHTTP_LOAD_ERROR))\n  })\n  on(xhr, 'timeout', function () {\n    reject(new Error(XMLHTTP_TIMEOUT_ERROR))\n  })\n}\n\nexport default promisify(waitForXMLHttpRequest)\n","import promisify from './promisify.js'\nimport on from './on.js'\n\nfunction waitForFileReader(resolve, reject, fileReader) {\n  if (fileReader.result) {\n    resolve(fileReader.result)\n    return\n  }\n\n  if (fileReader.error) {\n    reject(fileReader.error)\n    return\n  }\n\n  on(fileReader, 'load', function () {\n    resolve(fileReader.result)\n  })\n\n  on(fileReader, 'error', function () {\n    reject(fileReader.error)\n  })\n}\n\nexport default promisify(waitForFileReader)\n","import getRenderingContext2D from './get-rendering-context.js'\n\nfunction putImageData(data) {\n  const context = getRenderingContext2D(data.width, data.height)\n  context.putImageData(data, 0, 0)\n  return context\n}\n\nexport default putImageData\n","import isObject from './is-object.js'\nimport isFunction from './is-function.js'\n\n// whatwg-fetch polyfilled fetch Symbol.toString is not current\nfunction isBody(x) {\n  return (\n    isObject(x) &&\n    isFunction(x.arrayBuffer) &&\n    isFunction(x.blob) &&\n    isFunction(x.formData) &&\n    isFunction(x.json) &&\n    isFunction(x.text)\n  )\n}\n\nexport default isBody\n","import isObject from './is-object.js'\nimport isFunction from './is-function.js'\n\nfunction isDocument(x) {\n  return (\n    isObject(x) && isObject(x.documentElement) && isFunction(x.createElement)\n  )\n}\n\nexport default isDocument\n","import {XMLSerializer} from './global-this.js'\n\nfunction documentToText(document) {\n  return (\n    document.documentElement.outerHTML ||\n    new XMLSerializer().serializeToString(document)\n  )\n}\n\nexport default documentToText\n","import {atob, Uint8Array, Blob} from './global-this.js'\n\nfunction dataURLToBlob(data, type) {\n  const binary = atob(data.split(',')[1])\n  const array = Uint8Array.from(binary, (byte) => byte.charCodeAt(0))\n\n  return new Blob([array], {\n    type,\n  })\n}\n\nexport default dataURLToBlob\n","import promisify from './promisify.js'\nimport parseBase64DataURL from './data-url-to-blob.js'\n\nfunction canvasToBlob(resolve, reject, canvas, type, quality) {\n  if (canvas.toBlob) {\n    return canvas.toBlob(resolve, type, quality)\n  }\n\n  if (canvas.convertToBlob) {\n    return resolve(canvas.convertToBlob(type, quality))\n  }\n\n  const url = canvas.toDataURL(type, quality)\n  const blob = parseBase64DataURL(url)\n  return resolve(blob)\n}\n\nexport default promisify(canvasToBlob)\n","import isObject from './is-object.js'\nimport isFunction from './is-function.js'\n\nfunction isCanvas(x) {\n  return isObject(x) && isFunction(x.getContext)\n}\n\nexport default isCanvas\n","import isObject from './is-object.js'\nimport isCanvas from './is-canvas.js'\n\nfunction isRenderingContext(x) {\n  return isObject(x) && isCanvas(x.canvas)\n}\n\nexport default isRenderingContext\n","const base64DataURLPattern = /^data:.*?;base64,/\n\nfunction isDataURL(url) {\n  return base64DataURLPattern.test(url)\n}\n\nexport default isDataURL\n","import {fetch} from './global-this.js'\n\nexport default fetch\n","import isObject from './is-object.js'\nimport getType from './get-type.js'\n\nfunction isArrayBuffer(x) {\n  return isObject(x) && getType(x) === 'ArrayBuffer'\n}\n\nexport default isArrayBuffer\n","import isArrayBuffer from './is-array-buffer.js'\nimport isObject from './is-object.js'\n\n// ie DataView.toString is [object Object]\nfunction isDataView(x) {\n  // can't do ArrayBuffer.isView check on ie 10\n  return isObject(x) && isArrayBuffer(x.buffer)\n}\n\nexport default isDataView\n","import {Blob} from '../utils/global-this.js'\nimport isThenAble from '../utils/is-then-able.js'\nimport getType from '../utils/get-type.js'\nimport waitForXMLHttpRequest from '../utils/wait-for-xmlhttp-request.js'\nimport waitForImage from '../utils/wait-for-image.js'\nimport waitForFileReader from '../utils/wait-for-file-reader.js'\nimport drawImage from '../utils/draw-image.js'\nimport putImageData from '../utils/put-image-data.js'\nimport isBody from '../utils/is-body.js'\nimport isDocument from '../utils/is-document.js'\nimport documentToText from '../utils/document-to-text.js'\nimport canvasToBlob from '../utils/canvas-to-blob.js'\nimport isRenderingContext from '../utils/is-rendering-context.js'\nimport isDataURL from '../utils/is-data-url.js'\nimport dataURLToBlob from '../utils/data-url-to-blob.js'\nimport download from '../utils/download.js'\nimport {SUPPORTS_BLOB_CONSTRUCTOR_WITH_DATA_VIEW} from '../supports.js'\nimport isDataView from '../utils/is-data-view.js'\nimport File from './file.js'\n\nfunction parseFromData(data, options) {\n  const parse = (data) => parseFromData(data, options)\n\n  // Promise\n  if (isThenAble(data)) {\n    return data.then(parse)\n  }\n\n  const type = getType(data)\n\n  if (type === 'Blob' || type === 'File') {\n    return data\n  }\n\n  if (type === 'XMLHttpRequest') {\n    return waitForXMLHttpRequest(data).then(parse)\n  }\n\n  if (type === 'HTMLImageElement') {\n    return waitForImage(data).then(drawImage).then(parse)\n  }\n\n  if (type === 'ImageBitmap') {\n    return parse(drawImage(data))\n  }\n\n  if (type === 'ImageData') {\n    return parse(putImageData(data))\n  }\n\n  if (type === 'FileReader') {\n    return waitForFileReader(data).then(parse)\n  }\n\n  if (isBody(data)) {\n    return data.blob()\n  }\n\n  if (isDocument(data)) {\n    return parse(documentToText(data))\n  }\n\n  // HTMLCanvasElement\n  if (type === 'HTMLCanvasElement') {\n    return canvasToBlob(data, options.type, options.quality)\n  }\n\n  // OffscreenCanvas\n  if (type === 'OffscreenCanvas') {\n    return data.convertToBlob(options)\n  }\n\n  // RenderingContext\n  if (isRenderingContext(data)) {\n    return parse(data.canvas)\n  }\n\n  if (isDataURL(data)) {\n    try {\n      const blob = dataURLToBlob(data)\n      if (blob) {\n        return blob\n      }\n    } catch {}\n  }\n\n  if (/^(?:blob|data):/.test(data)) {\n    return download(data).then(parse)\n  }\n\n  if (!SUPPORTS_BLOB_CONSTRUCTOR_WITH_DATA_VIEW && isDataView(data)) {\n    return parse(data.buffer)\n  }\n\n  // if (type === 'ArrayBuffer' || ArrayBuffer.isView(data)) {\n  //   return new Blob([data])\n  // }\n\n  return new Blob([data], options)\n}\n\nfunction parseData(data, options = {}) {\n  const blob = parseFromData(data, options)\n  const promise = isThenAble(blob) ? blob : Promise.resolve(blob)\n  return promise.then((blob) => new File(blob, options))\n}\n\nexport default parseData\n","import defineValues from './utils/define-values.js'\n\nimport File from './core/file.js'\nimport from from './core/from.js'\n\ndefineValues(File, {\n  from,\n})\n\nexport default File\nexport {from}\n"],"names":["defineProperties","Object","defineValues","object","values","options","configurable","writable","enumerable","properties","keys","key","value","globalThis","Function","URL","webkitURL","ArrayBuffer","atob","Blob","createImageBitmap","DataView","DOMParser","document","fetch","File","Image","OffscreenCanvas","Promise","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","XMLSerializer","isFunction","x","isObject","SUPPORTS_FILE_CONSTRUCTOR","file","SUPPORTS_OFFSCREEN_CANVAS","SUPPORTS_BLOB_CONSTRUCTOR_WITH_DATA_VIEW","arrayBuffer","dataView","blob","SUPPORTS_URL_CREATE_OBJECT_URL","createObjectURL","toFile","parts","fileName","toBlob","name","lastModified","Date","now","toString","prototype","getType","call","slice","isBlob","type","DOMPARSER_TYPES","xml","svg","html","XHR_RESPONSE_TYPES","none","text","json","DEFAULT_TEXT_ENCODING","IMAGE_LOAD_ERROR","XMLHTTP_TIMEOUT_ERROR","XMLHTTP_LOAD_ERROR","CONSTRUCTOR_DATA_TYPE_ERROR","f","args","i","arguments","length","resolve","apply","e","reject","toPromise","function_","arguments_","blobSync","$store","throwParserError","parserError","getElementsByTagName","Error","innerText","textContent","textToDocument","mimeType","parser","parseFromString","isNull","hasOwnProperty","hasOwn","cacheResult","cacheKey","store","result","then","direct","parseDocumentWithType","FileReader","methods","readAsArrayBuffer","readAsText","dataURL","readAsDataURL","binaryString","readAsBinaryString","readAs","dataType","method","encoding","String","$options","toUpperCase","fileSync","constructFile","imageBitmap","getOffscreenCanvasRenderingContext2D","width","height","canvas","getContext","getCanvasRenderingContext2D","createElement","drawImage","image","context","getRenderingContext2D","naturalWidth","naturalHeight","getImageData","sx","sy","sw","sh","_await","imageData","isUndefined","promisify","promised","on","listener","addEventListener","waitForImage","loadImage","url","src","reviver","JSON","parse","getView","arrayBufferView","byteOffset","buffer","TypedArray","float32Array","float64Array","int16Array","int32Array","int8Array","uint16Array","uint32Array","uint8Array","uint8ClampedArray","urlSync","data","TypeError","original","isThenAble","parseXHRData","xhr","responseType","responseText","stringify","response","responseXML","waitForXMLHttpRequest","readyState","waitForFileReader","fileReader","error","putImageData","isBody","formData","isDocument","documentElement","documentToText","outerHTML","serializeToString","dataURLToBlob","binary","split","array","from","byte","charCodeAt","canvasToBlob","quality","convertToBlob","toDataURL","parseBase64DataURL","isCanvas","isRenderingContext","base64DataURLPattern","isDataURL","test","isArrayBuffer","isDataView","parseFromData","download","parseData","promise"],"mappings":"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"}