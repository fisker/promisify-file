function r(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function t(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(r){n(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function e(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function n(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var a=Object.defineProperties;function o(r,e,n){for(var o=t({configurable:!0,writable:!0,enumerable:!0},n),i=o.configurable,u=o.writable,c=o.enumerable,f={},l=0,s=Object.keys(e);l<s.length;l++){var y=s[l];f[y]={value:e[y],configurable:i,writable:u,enumerable:c}}return a(r,f)}var i=new Function("return this")(),u=i.URL||i.webkitURL,c=i.ArrayBuffer,f=i.atob,l=i.Blob,s=i.createImageBitmap,y=i.DataView,v=i.DOMParser,p=i.document,h=i.fetch,d=i.File,g=i.Image,b=i.OffscreenCanvas;i.Promise,i.Int8Array;var m=i.Uint8Array;i.Uint8ClampedArray,i.Int16Array,i.Uint16Array,i.Int32Array,i.Uint32Array,i.Float32Array,i.Float64Array;var w=i.XMLSerializer;function A(r){return"function"==typeof r}function O(r){return null!==r&&("object"==typeof r||A(r))}var j=function(){try{return O(new d([],""))}catch(r){return!1}}(),B=A(b),P=function(){try{var r=new c,t=new y(r);return O(new l([t]))}catch(r){return!1}}(),x=O(u)&&A(u.createObjectURL);var L=j?function(r,t,e){return new d(r,t,e)}:function(r,t,e){var n=new l(r,e);return n.name=t,n.lastModified=e.lastModified||Date.now(),n},S=Object.prototype.toString;function U(r){return S.call(r).slice(8,-1)}function R(r){var t=U(r);return"Blob"===t||"File"===t}var D="application/xml",T="image/svg+xml",C="text/html",E="",M="text",_="json",F="document";function I(r){return function(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(r.apply(this,t))}catch(r){return Promise.reject(r)}}}((function(){for(var t=this,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return r.call.apply(r,[t].concat(n))}))}function $(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.$store.blob;return r=t(t({},e),r),new l([e],r)}var H=I($);function z(r,t){var e=(new v).parseFromString(r,t);return function(r){var t=r.getElementsByTagName("parsererror")[0];if(t)throw new Error(t.innerText||t.textContent)}(e),e}var X=Object.prototype.hasOwnProperty;function q(r,t){return!(null===r)&&X.call(r,t)}function k(r,t){return function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var o=A(r)?r.call.apply(r,[this].concat(n)):r,i=this.$store;if(q(i,o))return i[o];var u=t.call.apply(t,[this].concat(n));return i[o]=u,u}}function N(r){return k(function(r){return"document[".concat(r,"]")}(r),(function(){try{return t=this.text(),e=function(t){return z(t,r)},n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}catch(r){return Promise.reject(r)}var t,e,n}))}var V=N(D),W=N(T),J=N(C),G=new Function("return this")(),K=G.FileReader,Q=G.Promise,Y=G.Blob;function Z(r){return function(t,e){return new Q((function(n,a){var o=new K;o.onload=function(){return n(o.result)},o.onerror=function(){return a(o.error)},r.call(o,t,e)}))}}var rr,tr=Y.prototype.arrayBuffer?(rr=Y.prototype.arrayBuffer,function(r,t){return rr.call(r,t)}):Z(K.prototype.readAsArrayBuffer),er=String.fromCharCode;function nr(r){for(var t=new Uint8Array(r),e=t.byteLength,n="",a=0;a<e;a+=1)n+=er(t[a]);return n}var ar=K.prototype.readAsBinaryString?Z(K.prototype.readAsBinaryString):function(r){return tr(r).then(nr)},or=Z(K.prototype.readAsDataURL),ir=Z(K.prototype.readAsText),ur=Object.freeze({__proto__:null,readAsArrayBuffer:tr,readAsBinaryString:ar,readAsDataURL:or,readAsText:ir}),cr=Object.freeze({__proto__:null,readAsArrayBuffer:tr,readAsBinaryString:ar,readAsDataURL:or,readAsText:ir,arrayBuffer:tr,binaryString:ar,dataURL:or,text:ir}),fr=function(){};Object.assign(fr.prototype,ur),Object.assign(fr,cr);var lr={arrayBuffer:tr,text:ir,dataURL:or,binaryString:ar};function sr(r){var t=lr[r];return k((function(t){return"text"!==r?r:(t=String(t||this.$options.encoding||"UTF-8").toUpperCase(),"".concat(r,"[").concat(t,"]"))}),(function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return t.apply(void 0,[this.$store.blob].concat(e))}))}var yr=sr("arrayBuffer"),vr=sr("text"),pr=sr("dataURL"),hr=sr("binaryString");function dr(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.$store.blob;return r=r||n.name,e=t(t({},n),e),L([n],r,e)}var gr=I(dr),br=k("imageBitmap",(function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return s.apply(void 0,[this.$store.blob].concat(t))}));var mr=B?function(r,t){return new b(r,t).getContext("2d")}:function(r,t){var e=p.createElement("canvas");return e.width=r,e.height=t,e.getContext("2d")};function wr(r){var t=mr(r.naturalWidth||r.width,r.naturalHeight||r.height);return t.drawImage(r,0,0),t}function Ar(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.naturalWidth||r.width,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.naturalHeight||r.height,o=wr(r);return o.getImageData(t,e,n,a)}function Or(r,t,e){return e?t?t(r):r:(r&&r.then||(r=Promise.resolve(r)),t?r.then(t):r)}var jr=k("imageData",(function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];try{var n=this;return Or(n.image(),(function(r){return Ar.apply(void 0,[r].concat(t))}))}catch(r){return Promise.reject(r)}}));function Br(r){return void 0===r}function Pr(r){return function(){for(var t=this,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return new Promise((function(e,a){var o=r.call.apply(r,[t,e,a].concat(n));Br(o)||e(o)}))}}function xr(r,t,e){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r.addEventListener(t,e,n)}var Lr=Pr((function(r,t,e){e.naturalWidth?r(e):(xr(e,"load",(function(){r(e)})),xr(e,"error",(function(){t(new Error("error occurred during loading image"))})))}));function Sr(r){var t=new g;return t.src=r,Lr(t)}var Ur=k("image",(function(){try{return r=this[x?"url":"dataURL"](),t=Sr,e?t?t(r):r:(r&&r.then||(r=Promise.resolve(r)),t?r.then(t):r)}catch(r){return Promise.reject(r)}var r,t,e}));var Rr=function(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(r.apply(this,t))}catch(r){return Promise.reject(r)}}}((function(r,t){var e,n,a;return e=this.text(r||this.$options.encoding),n=function(r){return JSON.parse(r,t)},a?n?n(e):e:(e&&e.then||(e=Promise.resolve(e)),n?e.then(n):e)}));function Dr(r){var t=function(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(r.apply(this,t))}catch(r){return Promise.reject(r)}}}((function(r,t){var n,a,o;return n=this.arrayBuffer(),a=function(n){return new e(n,r,t)},o?a?a(n):n:(n&&n.then||(n=Promise.resolve(n)),a?n.then(a):n)})),e=i[r[0].toUpperCase()+r.slice(1)];return k(r,t)}var Tr=Dr("dataView"),Cr=Dr("float32Array"),Er=Dr("float64Array"),Mr=Dr("int16Array"),_r=Dr("int32Array"),Fr=Dr("int8Array"),Ir=Dr("uint16Array"),$r=Dr("uint32Array"),Hr=Dr("uint8Array"),zr=Dr("uint8ClampedArray"),Xr=k("url",(function(){return u.createObjectURL(this.$store.blob)})),qr=I(Xr),kr=function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e(this,r),!R(t))throw new TypeError("".concat("`data` except a `Blob`",", got ").concat(typeof t));var a=t,o=n.type,i=void 0===o?a.type:o,u=n.name,c=void 0===u?a.name:u,f=n.lastModified,s=void 0===f?a.lastModified:f;i===a.type&&c===a.name&&s===a.lastModified||(a=c?L([t],c,{type:i,lastModified:s}):new l([t],{type:i})),this.$store={original:t,blob:a},this.$options=n};o(kr.prototype,Object.freeze({__proto__:null,blob:H,blobSync:$,document:function(r){return N(r=r||this.$store.blob.type).call(this)},xml:V,svg:W,html:J,arrayBuffer:yr,text:vr,dataURL:pr,binaryString:hr,fileSync:dr,file:gr,imageBitmap:br,imageData:jr,image:Ur,json:Rr,dataView:Tr,float32Array:Cr,float64Array:Er,int16Array:Mr,int32Array:_r,int8Array:Fr,uint16Array:Ir,uint32Array:$r,uint8Array:Hr,uint8ClampedArray:zr,url:qr,urlSync:Xr}));var Nr=kr;function Vr(r){return O(r)&&A(r.then)}function Wr(r){switch(r.responseType){case E:case M:return r.responseText;case _:return JSON.stringify(r.response);case F:return r.responseXML;default:return r.response}}var Jr=Pr((function(r,t,e){4!==e.readyState?(xr(e,"load",(function(){r(Wr(e))})),xr(e,"error",(function(){t(new Error("error occurred during XMLHttpRequest"))})),xr(e,"timeout",(function(){t(new Error("XMLHttpRequest timeout"))}))):r(Wr(e))}));var Gr=Pr((function(r,t,e){e.result?r(e.result):e.error?t(e.error):(xr(e,"load",(function(){r(e.result)})),xr(e,"error",(function(){t(e.error)})))}));function Kr(r,t){var e=f(r.split(",")[1]),n=m.from(e,(function(r){return r.charCodeAt(0)}));return new l([n],{type:t})}var Qr=Pr((function(r,t,e,n,a){return e.toBlob?e.toBlob(r,n,a):e.convertToBlob?r(e.convertToBlob(n,a)):r(Kr(e.toDataURL(n,a)))}));function Yr(r){return O(r)&&function(r){return O(r)&&A(r.getContext)}(r.canvas)}var Zr=/^data:.*?;base64,/;var rt=h;function tt(r){return O(r)&&function(r){return O(r)&&"ArrayBuffer"===U(r)}(r.buffer)}function et(r,t){var e=function(r){return et(r,t)};if(Vr(r))return r.then(e);var n,a=U(r);if("Blob"===a||"File"===a)return r;if("XMLHttpRequest"===a)return Jr(r).then(e);if("HTMLImageElement"===a)return Lr(r).then(wr).then(e);if("ImageBitmap"===a)return e(wr(r));if("ImageData"===a)return e(function(r){var t=mr(r.width,r.height);return t.putImageData(r,0,0),t}(r));if("FileReader"===a)return Gr(r).then(e);if(O(n=r)&&A(n.arrayBuffer)&&A(n.blob)&&A(n.formData)&&A(n.json)&&A(n.text))return r.blob();if(function(r){return O(r)&&O(r.documentElement)&&A(r.createElement)}(r))return e(function(r){return r.documentElement.outerHTML||(new w).serializeToString(r)}(r));if("HTMLCanvasElement"===a)return Qr(r,t.type,t.quality);if("OffscreenCanvas"===a)return r.convertToBlob(t);if(Yr(r))return e(r.canvas);if(function(r){return Zr.test(r)}(r))try{var o=Kr(r);if(o)return o}catch(r){}return/^(?:blob|data):/.test(r)?rt(r).then(e):!P&&tt(r)?e(r.buffer):new l([r],t)}function nt(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=et(r,t),n=Vr(e)?e:Promise.resolve(e);return n.then((function(r){return new Nr(r,t)}))}o(Nr,{from:nt});export{Nr as default,nt as from};
//# sourceMappingURL=index.min.mjs.map
